/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.l = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };

/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};

/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};

/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 49);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


__webpack_require__(2);

__webpack_require__(1);

/***/ }),
/* 1 */
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),
/* 2 */
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),
/* 3 */,
/* 4 */,
/* 5 */,
/* 6 */,
/* 7 */,
/* 8 */,
/* 9 */,
/* 10 */,
/* 11 */,
/* 12 */,
/* 13 */,
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


__webpack_require__(20);

__webpack_require__(21);

__webpack_require__(22);

/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


__webpack_require__(44);

__webpack_require__(43);

__webpack_require__(41);

__webpack_require__(42);

__webpack_require__(40);

/***/ }),
/* 16 */,
/* 17 */,
/* 18 */,
/* 19 */,
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*jslint adsafe: false, bitwise: true, browser: true, cap: false, css: false,
 debug: false, devel: true, eqeqeq: true, es5: false, evil: false,
 forin: false, fragment: false, immed: true, laxbreak: false, newcap: true,
 nomen: false, on: false, onevar: true, passfail: false, plusplus: true,
 regexp: false, rhino: true, safe: false, strict: false, sub: false,
 undef: true, white: false, widget: false, windows: false */
/*global jQuery: false, window: false */


/*
 * Original code (c) 2010 Nick Galbreath
 * http://code.google.com/p/stringencoders/source/browse/#svn/trunk/javascript
 *
 * jQuery port (c) 2010 Carlo Zottmann
 * http://github.com/carlo/jquery-base64
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * jadefiles (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */

/* base64 encode/decode compatible with window.btoa/atob
 *
 * window.atob/btoa is a Firefox extension to convert binary data (the "b")
 * to base64 (ascii, the "a").
 *
 * It is also found in Safari and Chrome.  It is not available in IE.
 *
 * if (!window.btoa) window.btoa = $.base64.encode
 * if (!window.atob) window.atob = $.base64.decode
 *
 * The original spec's for atob/btoa are a bit lacking
 * https://developer.mozilla.org/en/DOM/window.atob
 * https://developer.mozilla.org/en/DOM/window.btoa
 *
 * window.btoa and $.base64.encode takes a string where charCodeAt is [0,255]
 * If any character is not [0,255], then an exception is thrown.
 *
 * window.atob and $.base64.decode take a base64-encoded string
 * If the input length is not a multiple of 4, or contains invalid characters
 *   then an exception is thrown.
 */

jQuery.base64 = function ($) {

    var _PADCHAR = "=",
        _ALPHA = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
        _VERSION = "1.0";

    function _getbyte64(s, i) {
        // This is oddly fast, except on Chrome/V8.
        // Minimal or no improvement in performance by using a
        // object with properties mapping chars to value (eg. 'A': 0)

        var idx = _ALPHA.indexOf(s.charAt(i));

        if (idx === -1) {
            throw "Cannot decode base64";
        }

        return idx;
    }

    function _decode(s) {
        var pads = 0,
            i,
            b10,
            imax = s.length,
            x = [];

        s = String(s);

        if (imax === 0) {
            return s;
        }

        if (imax % 4 !== 0) {
            throw "Cannot decode base64";
        }

        if (s.charAt(imax - 1) === _PADCHAR) {
            pads = 1;

            if (s.charAt(imax - 2) === _PADCHAR) {
                pads = 2;
            }

            // either way, we want to ignore this last block
            imax -= 4;
        }

        for (i = 0; i < imax; i += 4) {
            b10 = _getbyte64(s, i) << 18 | _getbyte64(s, i + 1) << 12 | _getbyte64(s, i + 2) << 6 | _getbyte64(s, i + 3);
            x.push(String.fromCharCode(b10 >> 16, b10 >> 8 & 0xff, b10 & 0xff));
        }

        switch (pads) {
            case 1:
                b10 = _getbyte64(s, i) << 18 | _getbyte64(s, i + 1) << 12 | _getbyte64(s, i + 2) << 6;
                x.push(String.fromCharCode(b10 >> 16, b10 >> 8 & 0xff));
                break;

            case 2:
                b10 = _getbyte64(s, i) << 18 | _getbyte64(s, i + 1) << 12;
                x.push(String.fromCharCode(b10 >> 16));
                break;
        }

        return x.join("");
    }

    function _getbyte(s, i) {
        var x = s.charCodeAt(i);

        if (x > 255) {
            throw "INVALID_CHARACTER_ERR: DOM Exception 5";
        }

        return x;
    }

    function _encode(s) {
        if (arguments.length !== 1) {
            throw "SyntaxError: exactly one argument required";
        }

        s = String(s);

        var i,
            b10,
            x = [],
            imax = s.length - s.length % 3;

        if (s.length === 0) {
            return s;
        }

        for (i = 0; i < imax; i += 3) {
            b10 = _getbyte(s, i) << 16 | _getbyte(s, i + 1) << 8 | _getbyte(s, i + 2);
            x.push(_ALPHA.charAt(b10 >> 18));
            x.push(_ALPHA.charAt(b10 >> 12 & 0x3F));
            x.push(_ALPHA.charAt(b10 >> 6 & 0x3f));
            x.push(_ALPHA.charAt(b10 & 0x3f));
        }

        switch (s.length - imax) {
            case 1:
                b10 = _getbyte(s, i) << 16;
                x.push(_ALPHA.charAt(b10 >> 18) + _ALPHA.charAt(b10 >> 12 & 0x3F) + _PADCHAR + _PADCHAR);
                break;

            case 2:
                b10 = _getbyte(s, i) << 16 | _getbyte(s, i + 1) << 8;
                x.push(_ALPHA.charAt(b10 >> 18) + _ALPHA.charAt(b10 >> 12 & 0x3F) + _ALPHA.charAt(b10 >> 6 & 0x3f) + _PADCHAR);
                break;
        }

        return x.join("");
    }

    return {
        decode: _decode,
        encode: _encode,
        VERSION: _VERSION
    };
}(jQuery);

/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/*
 * jQuery JSONP Core Plugin 2.4.0 (2012-08-21)
 *
 * https://github.com/jaubourg/jquery-jsonp
 *
 * Copyright (c) 2012 Julian Aubourg
 *
 * This document is licensed as free software under the terms of the
 * MIT License: http://www.opensource.org/licenses/mit-license.php
 */
(function ($) {

    // ###################### UTILITIES ##

    // Noop
    function noop() {}

    // Generic callback
    function genericCallback(data) {
        lastValue = [data];
    }

    // Call if defined
    function callIfDefined(method, object, parameters) {
        return method && method.apply(object.context || object, parameters);
    }

    // Give joining character given url
    function qMarkOrAmp(url) {
        return (/\?/.test(url) ? "&" : "?"
        );
    }

    var // String constants (for better minification)
    STR_ASYNC = "async",
        STR_CHARSET = "charset",
        STR_EMPTY = "",
        STR_ERROR = "error",
        STR_INSERT_BEFORE = "insertBefore",
        STR_JQUERY_JSONP = "_jqjsp",
        STR_ON = "on",
        STR_ON_CLICK = STR_ON + "click",
        STR_ON_ERROR = STR_ON + STR_ERROR,
        STR_ON_LOAD = STR_ON + "load",
        STR_ON_READY_STATE_CHANGE = STR_ON + "readystatechange",
        STR_READY_STATE = "readyState",
        STR_REMOVE_CHILD = "removeChild",
        STR_SCRIPT_TAG = "<script>",
        STR_SUCCESS = "success",
        STR_TIMEOUT = "timeout",


    // Window
    win = window,

    // Deferred
    Deferred = $.Deferred,

    // Head element
    head = $("head")[0] || document.documentElement,

    // Page cache
    pageCache = {},

    // Counter
    count = 0,

    // Last returned value
    lastValue,


    // ###################### DEFAULT OPTIONS ##
    xOptionsDefaults = {
        //beforeSend: undefined,
        //cache: false,
        callback: STR_JQUERY_JSONP,
        //callbackParameter: undefined,
        //charset: undefined,
        //complete: undefined,
        //context: undefined,
        //data: "",
        //dataFilter: undefined,
        //error: undefined,
        //pageCache: false,
        //success: undefined,
        //timeout: 0,
        //traditional: false,
        url: location.href
    },


    // opera demands sniffing :/
    opera = win.opera,


    // IE < 10
    oldIE = !!$("<div>").html("<!--[if IE]><i><![endif]-->").find("i").length;

    // ###################### MAIN FUNCTION ##
    function jsonp(xOptions) {

        // Build data with default
        xOptions = $.extend({}, xOptionsDefaults, xOptions);

        // References to xOptions members (for better minification)
        var successCallback = xOptions.success,
            errorCallback = xOptions.error,
            completeCallback = xOptions.complete,
            dataFilter = xOptions.dataFilter,
            callbackParameter = xOptions.callbackParameter,
            successCallbackName = xOptions.callback,
            cacheFlag = xOptions.cache,
            pageCacheFlag = xOptions.pageCache,
            charset = xOptions.charset,
            url = xOptions.url,
            data = xOptions.data,
            timeout = xOptions.timeout,
            pageCached,


        // Abort/done flag
        done = 0,


        // Life-cycle functions
        cleanUp = noop,


        // Support vars
        supportOnload,
            supportOnreadystatechange,


        // Request execution vars
        firstChild,
            script,
            scriptAfter,
            timeoutTimer;

        // If we have Deferreds:
        // - substitute callbacks
        // - promote xOptions to a promise
        Deferred && Deferred(function (defer) {
            defer.done(successCallback).fail(errorCallback);
            successCallback = defer.resolve;
            errorCallback = defer.reject;
        }).promise(xOptions);

        // Create the abort method
        xOptions.abort = function () {
            !done++ && cleanUp();
        };

        // Call beforeSend if provided (early abort if false returned)
        if (callIfDefined(xOptions.beforeSend, xOptions, [xOptions]) === !1 || done) {
            return xOptions;
        }

        // Control entries
        url = url || STR_EMPTY;
        data = data ? typeof data == "string" ? data : $.param(data, xOptions.traditional) : STR_EMPTY;

        // Build final url
        url += data ? qMarkOrAmp(url) + data : STR_EMPTY;

        // Add callback parameter if provided as option
        callbackParameter && (url += qMarkOrAmp(url) + encodeURIComponent(callbackParameter) + "=?");

        // Add anticache parameter if needed
        !cacheFlag && !pageCacheFlag && (url += qMarkOrAmp(url) + "_" + new Date().getTime() + "=");

        // Replace last ? by callback parameter
        url = url.replace(/=\?(&|$)/, "=" + successCallbackName + "$1");

        // Success notifier
        function notifySuccess(json) {

            if (!done++) {

                cleanUp();
                // Pagecache if needed
                pageCacheFlag && (pageCache[url] = { s: [json] });
                // Apply the data filter if provided
                dataFilter && (json = dataFilter.apply(xOptions, [json]));
                // Call success then complete
                callIfDefined(successCallback, xOptions, [json, STR_SUCCESS, xOptions]);
                callIfDefined(completeCallback, xOptions, [xOptions, STR_SUCCESS]);
            }
        }

        // Error notifier
        function notifyError(type) {

            if (!done++) {

                // Clean up
                cleanUp();
                // If pure error (not timeout), cache if needed
                pageCacheFlag && type != STR_TIMEOUT && (pageCache[url] = type);
                // Call error then complete
                callIfDefined(errorCallback, xOptions, [xOptions, type]);
                callIfDefined(completeCallback, xOptions, [xOptions, type]);
            }
        }

        // Check page cache
        if (pageCacheFlag && (pageCached = pageCache[url])) {

            pageCached.s ? notifySuccess(pageCached.s[0]) : notifyError(pageCached);
        } else {

            // Install the generic callback
            // (BEWARE: global namespace pollution ahoy)
            win[successCallbackName] = genericCallback;

            // Create the script tag
            script = $(STR_SCRIPT_TAG)[0];
            script.id = STR_JQUERY_JSONP + count++;

            // Set charset if provided
            if (charset) {
                script[STR_CHARSET] = charset;
            }

            opera && opera.version() < 11.60 ?
            // onerror is not supported: do not set as async and assume in-order execution.
            // Add a trailing script to emulate the event
            (scriptAfter = $(STR_SCRIPT_TAG)[0]).text = "document.getElementById('" + script.id + "')." + STR_ON_ERROR + "()" :
            // onerror is supported: set the script as async to avoid requests blocking each others
            script[STR_ASYNC] = STR_ASYNC;

            // Internet Explorer: event/htmlFor trick
            if (oldIE) {
                script.htmlFor = script.id;
                script.event = STR_ON_CLICK;
            }

            // Attached event handlers
            script[STR_ON_LOAD] = script[STR_ON_ERROR] = script[STR_ON_READY_STATE_CHANGE] = function (result) {

                // Test readyState if it exists
                if (!script[STR_READY_STATE] || !/i/.test(script[STR_READY_STATE])) {

                    try {

                        script[STR_ON_CLICK] && script[STR_ON_CLICK]();
                    } catch (_) {}

                    result = lastValue;
                    lastValue = 0;
                    result ? notifySuccess(result[0]) : notifyError(STR_ERROR);
                }
            };

            // Set source
            script.src = url;

            // Re-declare cleanUp function
            cleanUp = function cleanUp(i) {
                timeoutTimer && clearTimeout(timeoutTimer);
                script[STR_ON_READY_STATE_CHANGE] = script[STR_ON_LOAD] = script[STR_ON_ERROR] = null;
                head[STR_REMOVE_CHILD](script);
                scriptAfter && head[STR_REMOVE_CHILD](scriptAfter);
            };

            // Append main script
            head[STR_INSERT_BEFORE](script, firstChild = head.firstChild);

            // Append trailing script if needed
            scriptAfter && head[STR_INSERT_BEFORE](scriptAfter, firstChild);

            // If a timeout is needed, install it
            timeoutTimer = timeout > 0 && setTimeout(function () {
                notifyError(STR_TIMEOUT);
            }, timeout);
        }

        return xOptions;
    }

    // ###################### SETUP FUNCTION ##
    jsonp.setup = function (xOptions) {
        $.extend(xOptionsDefaults, xOptions);
    };

    // ###################### INSTALL in jQuery ##
    $.jsonp = jsonp;
})(jQuery);

/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


new Vue({
    el: '#app',
    data: {
        fictionData: '',
        topBottomFlag: false,
        hidepannel: true,
        FontPannelFlag: false,
        bgColor: '#ffffe9',
        passageFontSize: '18px',
        nightFlag: false,
        alertFlag: false,
        chapterId: 0,
        chapterTotal: 1
    },
    beforeCreate: function beforeCreate() {
        //获取浏览器页面可见高度和宽度
        var _PageHeight = document.documentElement.clientHeight,
            _PageWidth = document.documentElement.clientWidth;
        //计算loading框距离顶部和左部的距离（loading框的宽度为215px，高度为61px）
        var _LoadingTop = _PageHeight > 61 ? (_PageHeight - 61) / 2 : 0,
            _LoadingLeft = _PageWidth > 215 ? (_PageWidth - 215) / 2 : 0;
        //在页面未加载完毕之前显示的loading Html自定义内容
        var _LoadingHtml = '<div id="loadingDiv" style="position:absolute;left:0;width:100%;height:' + _PageHeight + 'px;top:0;background:#f3f8ff;opacity:1;filter:alpha(opacity=80);z-index:10000;"><div style="position: absolute; cursor1: wait; left: ' + _LoadingLeft + 'px; top:' + _LoadingTop + 'px; width: auto; height: 57px; line-height: 57px; padding-left: 50px; padding-right: 5px; background: #ffffff url(Image/loading.gif) no-repeat scroll 5px 10px; border: 2px solid #95b8e7; color: #696969; font-family:\'Microsoft YaHei\';">页面加载中，请等待...</div></div>';
        //呈现loading效果
        document.write(_LoadingHtml);
    },
    created: function created() {
        var _this = this;
        this.$nextTick(function () {
            _this.setChapterId();
        });
    },
    mounted: function mounted() {
        var _this = this;
        this.$nextTick(function () {
            this.ReaderModel();
            this.Util();
            this.getStorage();
            this.ReaderModel.init(function (data) {
                _this.fictionData = data;
                _this.completeLoading();
            });
        });
    },
    methods: {
        completeLoading: function completeLoading() {
            var loadingMask = document.getElementById('loadingDiv');
            loadingMask.parentNode.removeChild(loadingMask);
        },
        getStorage: function getStorage() {
            this.bgColor = this.Util.StorageGetter('last_bgColor') ? this.Util.StorageGetter('last_bgColor') : '#ffffe9';
            this.passageFontSize = this.Util.StorageGetter('last_passageFontSize') ? this.Util.StorageGetter('last_passageFontSize') : '15px';
            this.chapterId = this.Util.StorageGetter('last_chapterId') ? this.Util.StorageGetter('last_chapterId') : 0;
            this.nightFlag = this.Util.StorageGetter('last_nightFlag') === 'true' ? true : false;
        },
        toggleTopBottom: function toggleTopBottom() {
            this.topBottomFlag = !this.topBottomFlag;
        },
        toggleFontPannel: function toggleFontPannel() {
            //如果要实现有动画效果的出现，不能用v-show和v-if,v-if是直接渲染或不渲染到dom里，v-show是通过display:block/none来实现显示隐藏，都会生硬的输出。
            //需要动画效果可以使用绑定一个class，通过绑定的class的移除和加入，在结合原本样式上设置的transition属性来实现
            //dispaly属性具有优先级，如果设置了none，再出现的时候直接忽略transition属性
            this.hidepannel = !this.hidepannel;
        },
        changeBgColor: function changeBgColor(e) {
            var target = e.currentTarget;
            this.bgColor = getComputedStyle(target, null).getPropertyValue('background-color');
            this.Util.StorageSetter('last_bgColor', this.bgColor);
        },
        enlargeFontSize: function enlargeFontSize(flag) {
            var rate = 2;
            var max = 28;
            var min = 12;
            var passageFontSize = parseInt(this.passageFontSize);
            if (typeof flag == 'undefined' || flag > 0) {
                if (passageFontSize >= max) return;
                this.passageFontSize = passageFontSize + rate + 'px';
            } else if (flag < 0) {
                if (passageFontSize <= min) return;
                this.passageFontSize = passageFontSize - rate + 'px';
            } else {
                this.passageFontSize = '18px';
            }
            this.Util.StorageSetter('last_passageFontSize', this.passageFontSize);
        },
        toggleDayNight: function toggleDayNight() {
            this.nightFlag = !this.nightFlag;
            this.Util.StorageSetter('last_nightFlag', this.nightFlag);
        },
        prevChapter: function prevChapter(e) {
            var _this = this;
            this.stopBubble(e);
            this.ReaderModel.prevChapter(function (data) {
                _this.fictionData = data;
            });
            console.log(this.chapterId);
        },
        nextChapter: function nextChapter(e) {
            var _this = this;
            this.stopBubble(e);
            this.ReaderModel.nextChapter(function (data) {
                _this.fictionData = data;
            });
            console.log(this.chapterId);
        },
        stopBubble: function stopBubble(e) {
            if (e && e.stopPropagation) e.stopPropagation();else window.event.cancelBubble = true;
        },
        Util: function Util() {
            this.Util = function () {
                // todo 本地存储
                //防止域名重复，导致覆盖
                var prefix = 'html5_reader_';
                var StorageGetter = function StorageGetter(key) {
                    return localStorage.getItem(prefix + key);
                };
                var StorageSetter = function StorageSetter(key, val) {
                    return localStorage.setItem(prefix + key, val);
                };
                var getBSONP = function getBSONP(url, callback) {
                    return $.jsonp({
                        url: url,
                        cache: true,
                        callback: 'duokan_fiction_chapter',
                        success: function success(result) {
                            //base64解密返回的数据回去json
                            var data = $.base64.decode(result);
                            var json = decodeURIComponent(escape(data));
                            var jsonData = JSON.parse(json);
                            callback(jsonData);
                        }
                    });
                };
                //暴露方法
                return {
                    StorageGetter: StorageGetter,
                    StorageSetter: StorageSetter,
                    getBSONP: getBSONP
                };
            }();
        },
        ReaderModel: function ReaderModel() {
            var _this = this;
            this.ReaderModel = function () {
                'use strict';
                //    todo 实现和阅读器相关数据交互的方法

                var init = function init(UIcallback) {
                    getFictionInfo().then(function () {
                        return getCurChapterContent();
                    }).then(function (data) {
                        UIcallback && UIcallback(data);
                    });
                };
                var getFictionInfo = function getFictionInfo() {
                    return new Promise(function (res, err) {
                        $.get('/data/chapterList', function (data) {
                            if (data.result == 0) {
                                //    todo 获取章节信息后的回调
                                _this.chapterTotal = data.item.toc.length;
                                res(data);
                            } else {
                                err({ msg: 'fail' });
                            }
                        }, 'json');
                    });
                };
                var getCurChapterContent = function getCurChapterContent() {
                    //外边加一层function，return内容，需要的时候才创建
                    return new Promise(function (res, err) {
                        $.get('/data/chapterUrl?chapter_id=' + _this.chapterId, function (data) {
                            if (data.result == 0) {
                                var url = data.url;
                                _this.Util.getBSONP(url, function (data) {
                                    res(data);
                                });
                            } else {
                                err({ msg: 'fail' });
                            }
                        }, 'json');
                    });
                };

                var prevChapter = function prevChapter(UIcallback) {
                    _this.chapterId = parseInt(_this.chapterId, 10);
                    _this.chapterId -= 1;
                    if (_this.chapterId < 0) {
                        _this.alertFlag = true;
                        _this.chapterId = 0;
                        return;
                    }
                    getCurChapterContent().then(function (data) {
                        UIcallback && UIcallback(data);
                    });
                    _this.Util.StorageSetter('last_chapterId', _this.chapterId);
                };
                var nextChapter = function nextChapter(UIcallback) {
                    _this.chapterId = parseInt(_this.chapterId, 10);
                    _this.chapterId += 1;
                    if (_this.chapterId > _this.chapterTotal - 1) {
                        _this.alertFlag = true;
                        _this.chapterId = _this.chapterTotal - 1;
                        return;
                    }
                    getCurChapterContent().then(function (data) {
                        UIcallback && UIcallback(data);
                    });
                    _this.Util.StorageSetter('last_chapterId', _this.chapterId);
                };
                return {
                    init: init,
                    prevChapter: prevChapter,
                    nextChapter: nextChapter
                };
            }();
        },
        goCatalogPage: function goCatalogPage() {
            window.location.href = '/reader/catalog?id=' + this.chapterId;
        },
        setChapterId: function setChapterId() {
            var id = window.location.search;
            if (typeof id == 'undefined') return this.chapterId = id;
            id = id.replace('?id=', '');
            this.chapterId = id;
        }
    }
});

/***/ }),
/* 23 */,
/* 24 */,
/* 25 */,
/* 26 */,
/* 27 */,
/* 28 */,
/* 29 */,
/* 30 */,
/* 31 */,
/* 32 */,
/* 33 */,
/* 34 */,
/* 35 */,
/* 36 */,
/* 37 */,
/* 38 */,
/* 39 */,
/* 40 */
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),
/* 41 */
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),
/* 42 */
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),
/* 43 */
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),
/* 44 */
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),
/* 45 */,
/* 46 */,
/* 47 */,
/* 48 */,
/* 49 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(0);
__webpack_require__(15);
module.exports = __webpack_require__(14);


/***/ })
/******/ ]);